<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Text.Internal</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Text-Internal.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">text-0.11.2.3: An efficient packed Unicode text type.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>GHC</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>bos@serpentine.com, rtomharper@googlemail.com,
               duncan@haskell.org</td></tr><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Data.Text.Internal</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Types
</a></li><li><a href="#g:2">Construction
</a></li><li><a href="#g:3">Safety
</a></li><li><a href="#g:4">Code that must be here for accessibility
</a></li><li><a href="#g:5">Utilities
</a></li><li><a href="#g:6">Debugging
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A module containing private <code><a href="Data-Text-Internal.html#t:Text">Text</a></code> internals. This exposes the
 <code><a href="Data-Text-Internal.html#t:Text">Text</a></code> representation and low level construction functions.
 Modules which extend the <code><a href="Data-Text-Internal.html#t:Text">Text</a></code> system may need to use this module.
</p><p>You should not use this module unless you are determined to monkey
 with the internals, as the functions here do just about nothing to
 preserve data invariants.  You have been warned!
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Text">Text</a>  = <a href="#v:Text">Text</a> !<a href="Data-Text-Array.html#t:Array">Array</a> !<a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> !<a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:text">text</a> :: <a href="Data-Text-Array.html#t:Array">Array</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Text-Internal.html#t:Text">Text</a></li><li class="src short"><a href="#v:textP">textP</a> :: <a href="Data-Text-Array.html#t:Array">Array</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Text-Internal.html#t:Text">Text</a></li><li class="src short"><a href="#v:safe">safe</a> :: <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Char.html#t:Char">Char</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Char.html#t:Char">Char</a></li><li class="src short"><a href="#v:empty">empty</a> :: <a href="Data-Text-Internal.html#t:Text">Text</a></li><li class="src short"><a href="#v:firstf">firstf</a> ::  (a -&gt; c) -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (a, b) -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c, b)</li><li class="src short"><a href="#v:showText">showText</a> :: <a href="Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a></li></ul></div><div id="interface"><h1 id="g:1">Types
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Text" class="def">Text</a>  </p><div class="doc"><p>A space efficient, packed, unboxed Unicode text type.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Text" class="def">Text</a> !<a href="Data-Text-Array.html#t:Array">Array</a> !<a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> !<a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Text" class="caption collapser" onclick="toggleSection('i:Text')">Instances</p><div id="section.i:Text" class="show"><table><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Data.html#t:Data">Data</a> <a href="Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> <a href="Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> <a href="Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> <a href="Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:IsString">IsString</a> <a href="Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Monoid.html#t:Monoid">Monoid</a> <a href="Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/deepseq-1.3.0.0/Control-DeepSeq.html#t:NFData">NFData</a> <a href="Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Construction
</h1><div class="top"><p class="src"><a name="v:text" class="def">text</a> :: <a href="Data-Text-Array.html#t:Array">Array</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Text-Internal.html#t:Text">Text</a></p><div class="doc"><p>Smart constructor.
</p></div></div><div class="top"><p class="src"><a name="v:textP" class="def">textP</a> :: <a href="Data-Text-Array.html#t:Array">Array</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Text-Internal.html#t:Text">Text</a></p><div class="doc"><p>Construct a <code><a href="Data-Text-Internal.html#t:Text">Text</a></code> without invisibly pinning its byte array in
 memory if its length has dwindled to zero.
</p></div></div><h1 id="g:3">Safety
</h1><div class="top"><p class="src"><a name="v:safe" class="def">safe</a> :: <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Char.html#t:Char">Char</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Char.html#t:Char">Char</a></p><div class="doc"><p>Map a <code><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Char.html#t:Char">Char</a></code> to a <code><a href="Data-Text-Internal.html#t:Text">Text</a></code>-safe value.
</p><p>UTF-16 surrogate code points are not included in the set of Unicode
 scalar values, but are unfortunately admitted as valid <code><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Char.html#t:Char">Char</a></code>
 values by Haskell.  They cannot be represented in a <code><a href="Data-Text-Internal.html#t:Text">Text</a></code>.  This
 function remaps those code points to the Unicode replacement
 character &quot;&#65533;&quot;, and leaves other code points unchanged.
</p></div></div><h1 id="g:4">Code that must be here for accessibility
</h1><div class="top"><p class="src"><a name="v:empty" class="def">empty</a> :: <a href="Data-Text-Internal.html#t:Text">Text</a></p><div class="doc"><p><em>O(1)</em> The empty <code><a href="Data-Text-Internal.html#t:Text">Text</a></code>.
</p></div></div><h1 id="g:5">Utilities
</h1><div class="top"><p class="src"><a name="v:firstf" class="def">firstf</a> ::  (a -&gt; c) -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (a, b) -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c, b)</p><div class="doc"><p>Apply a function to the first element of an optional pair.
</p></div></div><h1 id="g:6">Debugging
</h1><div class="top"><p class="src"><a name="v:showText" class="def">showText</a> :: <a href="Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>A useful <code><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#v:show">show</a></code>-like function for debugging purposes.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>