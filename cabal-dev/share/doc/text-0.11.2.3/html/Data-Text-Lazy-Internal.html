<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Text.Lazy.Internal</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Text-Lazy-Internal.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">text-0.11.2.3: An efficient packed Unicode text type.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>GHC</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>bos@serpentine.com, rtomharper@googlemail.com,
               duncan@haskell.org</td></tr><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Data.Text.Lazy.Internal</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Data type invariant and abstraction functions
</a></li><li><a href="#g:2">Chunk allocation sizes
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A module containing private <code><a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></code> internals. This exposes the
 <code><a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></code> representation and low level construction functions.
 Modules which extend the <code><a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></code> system may need to use this module.
</p><p>You should not use this module unless you are determined to monkey
 with the internals, as the functions here do just about nothing to
 preserve data invariants.  You have been warned!
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Text">Text</a> <ul class="subs"><li>= <a href="#v:Empty">Empty</a>  </li><li>| <a href="#v:Chunk">Chunk</a> !<a href="Data-Text-Internal.html#t:Text">Text</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a>  </li></ul></li><li class="src short"><a href="#v:chunk">chunk</a> :: <a href="Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></li><li class="src short"><a href="#v:empty">empty</a> :: <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></li><li class="src short"><a href="#v:foldrChunks">foldrChunks</a> ::  (<a href="Data-Text-Internal.html#t:Text">Text</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; a</li><li class="src short"><a href="#v:foldlChunks">foldlChunks</a> ::  (a -&gt; <a href="Data-Text-Internal.html#t:Text">Text</a> -&gt; a) -&gt; a -&gt; <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; a</li><li class="src short"><a href="#v:strictInvariant">strictInvariant</a> :: <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:lazyInvariant">lazyInvariant</a> :: <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></li><li class="src short"><a href="#v:showStructure">showStructure</a> :: <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:defaultChunkSize">defaultChunkSize</a> :: <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:smallChunkSize">smallChunkSize</a> :: <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:chunkOverhead">chunkOverhead</a> :: <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Text" class="def">Text</a>  </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Empty" class="def">Empty</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Chunk" class="def">Chunk</a> !<a href="Data-Text-Internal.html#t:Text">Text</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Text" class="caption collapser" onclick="toggleSection('i:Text')">Instances</p><div id="section.i:Text" class="show"><table><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Data.html#t:Data">Data</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Ord.html#t:Ord">Ord</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:IsString">IsString</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Monoid.html#t:Monoid">Monoid</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/deepseq-1.3.0.0/Control-DeepSeq.html#t:NFData">NFData</a> <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:chunk" class="def">chunk</a> :: <a href="Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></p><div class="doc"><p>Smart constructor for <code><a href="Data-Text-Lazy-Internal.html#v:Chunk">Chunk</a></code>. Guarantees the data type invariant.
</p></div></div><div class="top"><p class="src"><a name="v:empty" class="def">empty</a> :: <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></p><div class="doc"><p>Smart constructor for <code><a href="Data-Text-Lazy-Internal.html#v:Empty">Empty</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:foldrChunks" class="def">foldrChunks</a> ::  (<a href="Data-Text-Internal.html#t:Text">Text</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; a</p><div class="doc"><p>Consume the chunks of a lazy <code><a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></code> with a natural right fold.
</p></div></div><div class="top"><p class="src"><a name="v:foldlChunks" class="def">foldlChunks</a> ::  (a -&gt; <a href="Data-Text-Internal.html#t:Text">Text</a> -&gt; a) -&gt; a -&gt; <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; a</p><div class="doc"><p>Consume the chunks of a lazy <code><a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></code> with a strict, tail-recursive,
 accumulating left fold.
</p></div></div><h1 id="g:1">Data type invariant and abstraction functions
</h1><div class="doc"><p>The data type invariant for lazy <code><a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></code>: Every <code><a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></code> is either <code><a href="Data-Text-Lazy-Internal.html#v:Empty">Empty</a></code> or
 consists of non-null <code><a href="Data-Text-Internal.html#t:Text">Text</a></code>s.  All functions must preserve this,
 and the QC properties must check this.
</p></div><div class="top"><p class="src"><a name="v:strictInvariant" class="def">strictInvariant</a> :: <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Check the invariant strictly.
</p></div></div><div class="top"><p class="src"><a name="v:lazyInvariant" class="def">lazyInvariant</a> :: <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></p><div class="doc"><p>Check the invariant lazily.
</p></div></div><div class="top"><p class="src"><a name="v:showStructure" class="def">showStructure</a> :: <a href="Data-Text-Lazy-Internal.html#t:Text">Text</a> -&gt; <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>Display the internal structure of a lazy <code><a href="Data-Text-Lazy-Internal.html#t:Text">Text</a></code>.
</p></div></div><h1 id="g:2">Chunk allocation sizes
</h1><div class="top"><p class="src"><a name="v:defaultChunkSize" class="def">defaultChunkSize</a> :: <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></p><div class="doc"><p>Currently set to 16 KiB, less the memory management overhead.
</p></div></div><div class="top"><p class="src"><a name="v:smallChunkSize" class="def">smallChunkSize</a> :: <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></p><div class="doc"><p>Currently set to 128 bytes, less the memory management overhead.
</p></div></div><div class="top"><p class="src"><a name="v:chunkOverhead" class="def">chunkOverhead</a> :: <a href="/home/tener/localopt/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></p><div class="doc"><p>The memory management overhead. Currently this is tuned for GHC only.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>